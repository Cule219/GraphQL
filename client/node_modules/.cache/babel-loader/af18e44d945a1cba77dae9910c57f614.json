{"ast":null,"code":"import _slicedToArray from \"/home/i/code/Miami/graphql-playlist/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/i/code/Miami/graphql-playlist/client/src/componenets/AddBook.js\";\nimport React, { useMemo, useCallback, useState } from 'react';\nimport { getAuthorsQuery, addBookMutation } from '../queries/querie';\nimport { useQuery, useMutation } from '@apollo/react-hooks';\n\nconst getOptions = (loading, error, data) => {\n  if (loading) {\n    return React.createElement(\"option\", {\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 7\n      },\n      __self: this\n    }, \"Loading Authors...\");\n  } else if (error) {\n    return React.createElement(\"option\", {\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 9\n      },\n      __self: this\n    }, \"Error loading Authors\");\n  } else {\n    return data.authors.map(({\n      name,\n      id\n    }) => {\n      return React.createElement(\"option\", {\n        key: id,\n        value: id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 13\n        },\n        __self: this\n      }, name);\n    });\n  }\n};\n\nconst AddBook = () => {\n  const _useQuery = useQuery(getAuthorsQuery),\n        loading = _useQuery.loading,\n        error = _useQuery.error,\n        data = _useQuery.data;\n\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        name = _useState2[0],\n        setName = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        genre = _useState4[0],\n        setGenre = _useState4[1];\n\n  const _useState5 = useState(''),\n        _useState6 = _slicedToArray(_useState5, 2),\n        author = _useState6[0],\n        setAuthor = _useState6[1];\n\n  const options = useMemo(() => getOptions(loading, error, data), [loading, error, data]);\n  const addCB = useCallback(e => {\n    e.preventDefault();\n    console.log(\"name: \".concat(name, \", genre: \").concat(genre, \", author: \").concat(author));\n    useMutation(addBookMutation);\n  }, [name, genre, author]);\n  return React.createElement(\"form\", {\n    id: \"add-book\",\n    onSubmit: addCB,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"Book name:\"), React.createElement(\"input\", {\n    type: \"text\",\n    onChange: e => setName(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Genre:\"), React.createElement(\"input\", {\n    type: \"text\",\n    onChange: e => setGenre(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Author:\"), React.createElement(\"select\", {\n    onChange: e => setAuthor(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Select Author\"), options)), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"+\"));\n};\n\nexport default AddBook;","map":{"version":3,"sources":["/home/i/code/Miami/graphql-playlist/client/src/componenets/AddBook.js"],"names":["React","useMemo","useCallback","useState","getAuthorsQuery","addBookMutation","useQuery","useMutation","getOptions","loading","error","data","authors","map","name","id","AddBook","setName","genre","setGenre","author","setAuthor","options","addCB","e","preventDefault","console","log","target","value"],"mappings":"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","sourcesContent":["import React, { useMemo, useCallback, useState } from 'react';\nimport { getAuthorsQuery, addBookMutation } from '../queries/querie';\nimport { useQuery, useMutation } from '@apollo/react-hooks';\n\nconst getOptions = (loading, error, data) => {\n   if (loading) {\n      return <option disabled>Loading Authors...</option>;\n   } else if (error) {\n      return <option disabled>Error loading Authors</option>;\n   } else {\n      return data.authors.map(({ name, id }) => {\n         return (\n            <option key={id} value={id}>\n               {name}\n            </option>\n         );\n      });\n   }\n};\n\nconst AddBook = () => {\n   const { loading, error, data } = useQuery(getAuthorsQuery);\n   const [name, setName] = useState('');\n   const [genre, setGenre] = useState('');\n   const [author, setAuthor] = useState('');\n\n   const options = useMemo(() => getOptions(loading, error, data), [\n      loading,\n      error,\n      data\n   ]);\n\n   const addCB = useCallback(\n      e => {\n         e.preventDefault();\n         console.log(`name: ${name}, genre: ${genre}, author: ${author}`);\n         useMutation(addBookMutation)\n      },\n      [name, genre, author]\n   );\n\n   return (\n      <form id=\"add-book\" onSubmit={addCB}>\n         <div className=\"field\">\n            <label>Book name:</label>\n            <input type=\"text\" onChange={e => setName(e.target.value)} />\n         </div>\n\n         <div className=\"field\">\n            <label>Genre:</label>\n            <input type=\"text\" onChange={e => setGenre(e.target.value)} />\n         </div>\n\n         <div className=\"field\">\n            <label>Author:</label>\n            <select onChange={e => setAuthor(e.target.value)}>\n               <option>Select Author</option>\n               {options}\n            </select>\n         </div>\n\n         <button>+</button>\n      </form>\n   );\n};\n\n\nexport default AddBook; "]},"metadata":{},"sourceType":"module"}